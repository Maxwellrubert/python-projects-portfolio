<div class="auction-demo">
    <h3>üî® Secret Auction House</h3>
    <p>Welcome to the exclusive auction! Place your bids secretly and see who wins!</p>
    
    <div class="auction-container">
        <div class="auction-setup" id="auctionSetup">
            <div class="auction-header">
                <h4>üèõÔ∏è Elite Auction House</h4>
                <p>Enter the exclusive world of secret bidding</p>
            </div>
            
            <div class="auction-item">
                <div class="item-showcase" id="itemShowcase">
                    <div class="item-image">üñºÔ∏è</div>
                    <div class="item-details">
                        <h5 id="itemName">Vintage Painting</h5>
                        <p id="itemDescription">A rare 19th century masterpiece</p>
                        <div class="starting-bid">
                            Starting Bid: <span id="startingBid">$1,000</span>
                        </div>
                    </div>
                </div>
                
                <div class="item-selector">
                    <h6>Choose Auction Item:</h6>
                    <div class="item-buttons">
                        <button class="item-btn" onclick="selectItem('painting')">
                            <span class="item-icon">üñºÔ∏è</span>
                            <span>Vintage Painting</span>
                            <small>$1,000</small>
                        </button>
                        <button class="item-btn" onclick="selectItem('vase')">
                            <span class="item-icon">üè∫</span>
                            <span>Ancient Vase</span>
                            <small>$2,500</small>
                        </button>
                        <button class="item-btn" onclick="selectItem('watch')">
                            <span class="item-icon">‚åö</span>
                            <span>Gold Watch</span>
                            <small>$5,000</small>
                        </button>
                        <button class="item-btn" onclick="selectItem('sculpture')">
                            <span class="item-icon">üóø</span>
                            <span>Marble Sculpture</span>
                            <small>$10,000</small>
                        </button>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="startAuction()">
                    <i class="fas fa-gavel"></i> Start Auction
                </button>
            </div>
        </div>
        
        <div class="auction-bidding hidden" id="auctionBidding">
            <div class="bidding-header">
                <div class="current-item">
                    <span class="item-icon" id="currentItemIcon">üñºÔ∏è</span>
                    <div class="item-info">
                        <h5 id="currentItemName">Vintage Painting</h5>
                        <p>Minimum bid: <span id="minimumBid">$1,000</span></p>
                    </div>
                </div>
                <div class="bidder-count">
                    Registered Bidders: <span id="bidderCount">0</span>
                </div>
            </div>
            
            <div class="bidder-form">
                <h6>üë§ Enter as Bidder</h6>
                <div class="form-group">
                    <input type="text" id="bidderName" placeholder="Enter your name..." maxlength="20">
                    <input type="number" id="bidAmount" placeholder="Enter bid amount..." min="0" step="100">
                </div>
                <button class="btn btn-success" onclick="placeBid()">
                    <i class="fas fa-hand-paper"></i> Place Secret Bid
                </button>
            </div>
            
            <div class="bidders-list">
                <h6>üìã Registered Bidders</h6>
                <div class="bidders-grid" id="biddersGrid">
                    <div class="empty-state">No bidders yet...</div>
                </div>
            </div>
            
            <div class="auction-controls">
                <button class="btn btn-warning" onclick="revealWinner()" id="revealBtn" disabled>
                    <i class="fas fa-eye"></i> Reveal Winner
                </button>
                <button class="btn btn-secondary" onclick="resetAuction()">
                    <i class="fas fa-redo"></i> New Auction
                </button>
            </div>
        </div>
        
        <div class="auction-results hidden" id="auctionResults">
            <div class="results-container">
                <div class="winner-announcement">
                    <h3>üéâ Auction Complete!</h3>
                    <div class="winner-card">
                        <div class="winner-avatar">üëë</div>
                        <div class="winner-details">
                            <h4 id="winnerName">John Doe</h4>
                            <div class="winning-bid">
                                Winning Bid: <span id="winningBid">$1,500</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="all-bids">
                    <h5>üìä All Bids (Revealed)</h5>
                    <div class="bids-list" id="bidsList">
                        <!-- Bids will be populated here -->
                    </div>
                </div>
                
                <div class="auction-stats">
                    <div class="stat-grid">
                        <div class="stat-item">
                            <span class="stat-label">Total Bidders:</span>
                            <span class="stat-value" id="totalBidders">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Highest Bid:</span>
                            <span class="stat-value" id="highestBid">$0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Average Bid:</span>
                            <span class="stat-value" id="averageBid">$0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Profit Margin:</span>
                            <span class="stat-value" id="profitMargin">0%</span>
                        </div>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="resetAuction()">
                    <i class="fas fa-plus"></i> Start New Auction
                </button>
            </div>
        </div>
        
        <div class="auction-message" id="auctionMessage"></div>
    </div>
    
    <div class="demo-info">
        <h4>How Secret Auctions Work:</h4>
        <ul>
            <li>Choose an item to auction from the available collection</li>
            <li>Bidders enter their names and bid amounts secretly</li>
            <li>No one can see other people's bids during the auction</li>
            <li>The auctioneer reveals the winner after all bids are placed</li>
            <li>Highest bidder wins the item!</li>
        </ul>
    </div>
</div>

<script>
const auctionItems = {
    painting: {
        name: "Vintage Painting",
        description: "A rare 19th century masterpiece by unknown artist",
        icon: "üñºÔ∏è",
        startingBid: 1000,
        category: "Art"
    },
    vase: {
        name: "Ancient Vase",
        description: "Porcelain vase from the Ming dynasty period",
        icon: "üè∫",
        startingBid: 2500,
        category: "Antiques"
    },
    watch: {
        name: "Gold Watch",
        description: "Swiss-made luxury timepiece with diamonds",
        icon: "‚åö",
        startingBid: 5000,
        category: "Jewelry"
    },
    sculpture: {
        name: "Marble Sculpture",
        description: "Renaissance-era sculpture depicting Apollo",
        icon: "üóø",
        startingBid: 10000,
        category: "Sculpture"
    }
};

let auction = {
    currentItem: null,
    bidders: [],
    isActive: false,
    isRevealed: false
};

function selectItem(itemKey) {
    const item = auctionItems[itemKey];
    auction.currentItem = itemKey;
    
    // Update display
    document.getElementById('itemName').textContent = item.name;
    document.getElementById('itemDescription').textContent = item.description;
    document.getElementById('startingBid').textContent = `$${item.startingBid.toLocaleString()}`;
    document.querySelector('#itemShowcase .item-image').textContent = item.icon;
    
    // Highlight selected button
    document.querySelectorAll('.item-btn').forEach(btn => btn.classList.remove('selected'));
    event.target.closest('.item-btn').classList.add('selected');
    
    showAuctionMessage(`üì¶ Selected: ${item.name}`, "success");
}

function startAuction() {
    if (!auction.currentItem) {
        showAuctionMessage("‚ùå Please select an item first!", "error");
        return;
    }
    
    const item = auctionItems[auction.currentItem];
    auction.isActive = true;
    auction.bidders = [];
    auction.isRevealed = false;
    
    // Update bidding interface
    document.getElementById('currentItemIcon').textContent = item.icon;
    document.getElementById('currentItemName').textContent = item.name;
    document.getElementById('minimumBid').textContent = `$${item.startingBid.toLocaleString()}`;
    document.getElementById('bidAmount').min = item.startingBid;
    document.getElementById('bidAmount').placeholder = `Minimum: $${item.startingBid.toLocaleString()}`;
    
    // Switch to bidding view
    document.getElementById('auctionSetup').classList.add('hidden');
    document.getElementById('auctionBidding').classList.remove('hidden');
    document.getElementById('auctionResults').classList.add('hidden');
    
    updateBiddersDisplay();
    showAuctionMessage(`üî® Auction started for ${item.name}! Place your bids!`, "success");
}

function placeBid() {
    if (!auction.isActive) {
        showAuctionMessage("‚ùå No active auction!", "error");
        return;
    }
    
    const bidderName = document.getElementById('bidderName').value.trim();
    const bidAmount = parseFloat(document.getElementById('bidAmount').value);
    const item = auctionItems[auction.currentItem];
    
    // Validation
    if (!bidderName) {
        showAuctionMessage("‚ùå Please enter your name!", "error");
        return;
    }
    
    if (!bidAmount || bidAmount < item.startingBid) {
        showAuctionMessage(`‚ùå Bid must be at least $${item.startingBid.toLocaleString()}!`, "error");
        return;
    }
    
    // Check if bidder already exists
    const existingBidderIndex = auction.bidders.findIndex(b => b.name.toLowerCase() === bidderName.toLowerCase());
    
    if (existingBidderIndex !== -1) {
        // Update existing bid
        auction.bidders[existingBidderIndex].amount = bidAmount;
        showAuctionMessage(`üîÑ Updated bid for ${bidderName}!`, "success");
    } else {
        // Add new bidder
        auction.bidders.push({
            name: bidderName,
            amount: bidAmount,
            timestamp: new Date()
        });
        showAuctionMessage(`‚úÖ Bid placed by ${bidderName}!`, "success");
    }
    
    // Clear form
    document.getElementById('bidderName').value = '';
    document.getElementById('bidAmount').value = '';
    
    updateBiddersDisplay();
}

function updateBiddersDisplay() {
    const biddersGrid = document.getElementById('biddersGrid');
    const bidderCount = document.getElementById('bidderCount');
    const revealBtn = document.getElementById('revealBtn');
    
    bidderCount.textContent = auction.bidders.length;
    
    if (auction.bidders.length === 0) {
        biddersGrid.innerHTML = '<div class="empty-state">No bidders yet...</div>';
        revealBtn.disabled = true;
    } else {
        biddersGrid.innerHTML = auction.bidders.map((bidder, index) => `
            <div class="bidder-card">
                <div class="bidder-avatar">üë§</div>
                <div class="bidder-info">
                    <div class="bidder-name">${bidder.name}</div>
                    <div class="bid-status">Bid placed ‚úì</div>
                </div>
                <div class="bid-hidden">ü§ê</div>
            </div>
        `).join('');
        revealBtn.disabled = false;
    }
}

function revealWinner() {
    if (auction.bidders.length === 0) {
        showAuctionMessage("‚ùå No bids to reveal!", "error");
        return;
    }
    
    auction.isRevealed = true;
    
    // Sort bidders by amount (highest first)
    const sortedBidders = [...auction.bidders].sort((a, b) => b.amount - a.amount);
    const winner = sortedBidders[0];
    const item = auctionItems[auction.currentItem];
    
    // Update results display
    document.getElementById('winnerName').textContent = winner.name;
    document.getElementById('winningBid').textContent = `$${winner.amount.toLocaleString()}`;
    
    // Show all bids
    const bidsList = document.getElementById('bidsList');
    bidsList.innerHTML = sortedBidders.map((bidder, index) => `
        <div class="bid-result ${index === 0 ? 'winner' : ''}">
            <div class="bidder-rank">${index === 0 ? 'üëë' : `#${index + 1}`}</div>
            <div class="bidder-info">
                <div class="bidder-name">${bidder.name}</div>
                <div class="bid-amount">$${bidder.amount.toLocaleString()}</div>
            </div>
            ${index === 0 ? '<div class="winner-badge">WINNER</div>' : ''}
        </div>
    `).join('');
    
    // Calculate stats
    const totalBidders = auction.bidders.length;
    const highestBid = winner.amount;
    const averageBid = auction.bidders.reduce((sum, b) => sum + b.amount, 0) / totalBidders;
    const profitMargin = ((highestBid - item.startingBid) / item.startingBid * 100).toFixed(1);
    
    document.getElementById('totalBidders').textContent = totalBidders;
    document.getElementById('highestBid').textContent = `$${highestBid.toLocaleString()}`;
    document.getElementById('averageBid').textContent = `$${averageBid.toLocaleString()}`;
    document.getElementById('profitMargin').textContent = `${profitMargin}%`;
    
    // Switch to results view
    document.getElementById('auctionBidding').classList.add('hidden');
    document.getElementById('auctionResults').classList.remove('hidden');
    
    showAuctionMessage(`üéâ ${winner.name} wins with $${winner.amount.toLocaleString()}!`, "success");
}

function resetAuction() {
    auction = {
        currentItem: null,
        bidders: [],
        isActive: false,
        isRevealed: false
    };
    
    // Reset forms
    document.getElementById('bidderName').value = '';
    document.getElementById('bidAmount').value = '';
    
    // Reset item selection
    document.querySelectorAll('.item-btn').forEach(btn => btn.classList.remove('selected'));
    
    // Switch back to setup
    document.getElementById('auctionSetup').classList.remove('hidden');
    document.getElementById('auctionBidding').classList.add('hidden');
    document.getElementById('auctionResults').classList.add('hidden');
    
    // Select default item
    selectItem('painting');
    
    showAuctionMessage("üîÑ Ready for new auction!", "info");
}

function showAuctionMessage(message, type = "info", duration = 3000) {
    const messageDisplay = document.getElementById('auctionMessage');
    messageDisplay.textContent = message;
    messageDisplay.className = `auction-message ${type}`;
    
    setTimeout(() => {
        messageDisplay.textContent = '';
        messageDisplay.className = 'auction-message';
    }, duration);
}

// Initialize
selectItem('painting');
</script>

<style>
.auction-container {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: var(--radius-xl);
    padding: 2rem;
    color: white;
    margin-bottom: 2rem;
    position: relative;
    overflow: hidden;
}

.auction-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
    pointer-events: none;
}

.auction-header {
    text-align: center;
    margin-bottom: 2rem;
}

.auction-header h4 {
    margin-bottom: 0.5rem;
    font-size: 2rem;
}

.auction-header p {
    opacity: 0.9;
    font-style: italic;
}

.auction-item {
    background: rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-lg);
    padding: 2rem;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.item-showcase {
    display: flex;
    align-items: center;
    gap: 2rem;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
}

.item-image {
    font-size: 4rem;
    text-align: center;
}

.item-details h5 {
    margin-bottom: 0.5rem;
    font-size: 1.5rem;
}

.item-details p {
    opacity: 0.9;
    margin-bottom: 1rem;
}

.starting-bid {
    font-size: 1.25rem;
    font-weight: 700;
    color: #fde68a;
}

.item-selector {
    margin-bottom: 2rem;
}

.item-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.item-btn {
    padding: 1rem;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.1);
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
}

.item-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-2px);
}

.item-btn.selected {
    background: rgba(255, 255, 255, 0.3);
    border-color: #fde68a;
    box-shadow: 0 0 20px rgba(253, 230, 138, 0.3);
}

.item-btn .item-icon {
    font-size: 2rem;
    display: block;
    margin-bottom: 0.5rem;
}

.item-btn span {
    display: block;
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.item-btn small {
    opacity: 0.8;
    font-size: 0.875rem;
}

.bidding-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
}

.current-item {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.current-item .item-icon {
    font-size: 2.5rem;
}

.item-info h5 {
    margin-bottom: 0.25rem;
}

.bidder-count {
    font-weight: 600;
    font-size: 1.125rem;
}

.bidder-form {
    background: rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.form-group {
    display: flex;
    gap: 1rem;
    margin: 1rem 0;
}

.form-group input {
    flex: 1;
    padding: 0.75rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.1);
    color: white;
    font-size: 1rem;
}

.form-group input::placeholder {
    color: rgba(255, 255, 255, 0.7);
}

.form-group input:focus {
    outline: none;
    border-color: #fde68a;
    box-shadow: 0 0 10px rgba(253, 230, 138, 0.3);
}

.bidders-list {
    margin-bottom: 2rem;
}

.bidders-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.empty-state {
    text-align: center;
    padding: 2rem;
    opacity: 0.7;
    font-style: italic;
}

.bidder-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.bidder-avatar {
    font-size: 1.5rem;
}

.bidder-info {
    flex: 1;
}

.bidder-name {
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.bid-status {
    font-size: 0.875rem;
    opacity: 0.8;
}

.bid-hidden {
    font-size: 1.5rem;
    opacity: 0.7;
}

.auction-controls {
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.results-container {
    background: rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-lg);
    padding: 2rem;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.winner-announcement {
    text-align: center;
    margin-bottom: 2rem;
}

.winner-card {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    padding: 2rem;
    background: rgba(255, 215, 0, 0.2);
    border-radius: var(--radius-lg);
    border: 2px solid #fde68a;
    margin: 1rem 0;
}

.winner-avatar {
    font-size: 4rem;
}

.winner-details h4 {
    margin-bottom: 0.5rem;
    font-size: 2rem;
}

.winning-bid {
    font-size: 1.5rem;
    color: #fde68a;
    font-weight: 700;
}

.all-bids {
    margin-bottom: 2rem;
}

.bids-list {
    margin-top: 1rem;
}

.bid-result {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    margin-bottom: 0.5rem;
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.bid-result.winner {
    background: rgba(255, 215, 0, 0.2);
    border-color: #fde68a;
}

.bidder-rank {
    font-size: 1.5rem;
    font-weight: 700;
    min-width: 40px;
    text-align: center;
}

.bid-result .bidder-info {
    flex: 1;
}

.bid-result .bidder-name {
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.bid-amount {
    font-size: 1.125rem;
    color: #fde68a;
}

.winner-badge {
    background: #fde68a;
    color: #1f2937;
    padding: 0.25rem 0.75rem;
    border-radius: var(--radius-sm);
    font-weight: 700;
    font-size: 0.875rem;
}

.auction-stats {
    margin-bottom: 2rem;
}

.stat-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.stat-item {
    display: flex;
    justify-content: space-between;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.stat-label {
    opacity: 0.9;
}

.stat-value {
    font-weight: 700;
    color: #fde68a;
}

.auction-message {
    text-align: center;
    font-weight: 600;
    padding: 1rem;
    border-radius: var(--radius-md);
    margin-top: 1rem;
    min-height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.auction-message.success {
    background-color: rgba(34, 197, 94, 0.2);
    color: #dcfce7;
    border: 1px solid rgba(34, 197, 94, 0.3);
}

.auction-message.error {
    background-color: rgba(239, 68, 68, 0.2);
    color: #fecaca;
    border: 1px solid rgba(239, 68, 68, 0.3);
}

.auction-message.info {
    background-color: rgba(59, 130, 246, 0.2);
    color: #dbeafe;
    border: 1px solid rgba(59, 130, 246, 0.3);
}

@media (max-width: 768px) {
    .item-showcase {
        flex-direction: column;
        text-align: center;
    }
    
    .bidding-header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
    
    .form-group {
        flex-direction: column;
    }
    
    .auction-controls {
        flex-direction: column;
        align-items: center;
    }
    
    .winner-card {
        flex-direction: column;
        text-align: center;
    }
}
</style>
