<div class="hangman-demo">
    <h3>ðŸŽª Hangman Game</h3>
    <p>Guess the word by choosing letters. You have 6 wrong guesses before the game ends!</p>
    
    <div class="game-container">
        <div class="game-setup" id="hangmanSetup">
            <h4>Choose Difficulty:</h4>
            <div class="difficulty-buttons">
                <button class="difficulty-btn" onclick="startHangman('easy')">
                    <span class="difficulty-name">Easy</span>
                    <span class="difficulty-desc">4-5 letter words</span>
                </button>
                <button class="difficulty-btn" onclick="startHangman('medium')">
                    <span class="difficulty-name">Medium</span>
                    <span class="difficulty-desc">6-7 letter words</span>
                </button>
                <button class="difficulty-btn" onclick="startHangman('hard')">
                    <span class="difficulty-name">Hard</span>
                    <span class="difficulty-desc">8+ letter words</span>
                </button>
            </div>
        </div>
        
        <div class="game-play hidden" id="hangmanPlay">
            <div class="hangman-display">
                <div class="hangman-art" id="hangmanArt">
                    <pre id="hangmanDrawing"></pre>
                </div>
                
                <div class="word-display">
                    <div id="wordDisplay" class="word-letters"></div>
                    <div class="word-hint">Category: <span id="wordCategory">Animals</span></div>
                </div>
            </div>
            
            <div class="game-info">
                <div class="lives-left">
                    Lives remaining: <span id="livesCount">6</span>
                </div>
                <div class="wrong-letters">
                    Wrong letters: <span id="wrongLetters"></span>
                </div>
            </div>
            
            <div class="alphabet-grid" id="alphabetGrid">
                <!-- Letters will be generated by JavaScript -->
            </div>
            
            <div class="game-message" id="hangmanMessage"></div>
            
            <button class="btn btn-secondary" onclick="resetHangman()">
                <i class="fas fa-redo"></i> New Game
            </button>
        </div>
        
        <div class="game-over hidden" id="hangmanOver">
            <div class="result-display">
                <div id="hangmanResult"></div>
                <div class="final-word">The word was: <strong id="finalWord"></strong></div>
                <button class="btn btn-primary" onclick="resetHangman()">
                    <i class="fas fa-play"></i> Play Again
                </button>
            </div>
        </div>
    </div>
    
    <div class="demo-info">
        <h4>How to Play:</h4>
        <ul>
            <li>Guess the hidden word by clicking on letters</li>
            <li>Each wrong guess adds a part to the hangman drawing</li>
            <li>You have 6 wrong guesses before you lose</li>
            <li>Guess the word before the drawing is complete to win!</li>
        </ul>
    </div>
</div>

<script>
const hangmanWords = {
    easy: [
        { word: 'CAT', category: 'Animals' },
        { word: 'DOG', category: 'Animals' },
        { word: 'BIRD', category: 'Animals' },
        { word: 'FISH', category: 'Animals' },
        { word: 'BOOK', category: 'Objects' },
        { word: 'TREE', category: 'Nature' },
        { word: 'HOUSE', category: 'Objects' },
        { word: 'APPLE', category: 'Food' }
    ],
    medium: [
        { word: 'PYTHON', category: 'Programming' },
        { word: 'GUITAR', category: 'Music' },
        { word: 'FLOWER', category: 'Nature' },
        { word: 'COMPUTER', category: 'Technology' },
        { word: 'RAINBOW', category: 'Nature' },
        { word: 'ELEPHANT', category: 'Animals' }
    ],
    hard: [
        { word: 'JAVASCRIPT', category: 'Programming' },
        { word: 'ALGORITHM', category: 'Programming' },
        { word: 'BUTTERFLY', category: 'Animals' },
        { word: 'PROGRAMMING', category: 'Technology' },
        { word: 'DEVELOPMENT', category: 'Technology' }
    ]
};

const hangmanDrawings = [
    '',
    `  ____`,
    `  |  |
  ____`,
    `  |  |
  |  
  ____`,
    `  |  |
  |  O
  ____`,
    `  |  |
  |  O
  | /
  ____`,
    `  |  |
  |  O
  | /|
  ____`,
    `  |  |
  |  O
  | /|\\
  ____`,
    `  |  |
  |  O
  | /|\\
  | /
  ____`,
    `  |  |
  |  O
  | /|\\
  | / \\
  ____`
];

let hangmanGame = {
    word: '',
    category: '',
    guessedLetters: [],
    wrongGuesses: 0,
    gameActive: false
};

function startHangman(difficulty) {
    const words = hangmanWords[difficulty];
    const randomWord = words[Math.floor(Math.random() * words.length)];
    
    hangmanGame.word = randomWord.word;
    hangmanGame.category = randomWord.category;
    hangmanGame.guessedLetters = [];
    hangmanGame.wrongGuesses = 0;
    hangmanGame.gameActive = true;
    
    document.getElementById('hangmanSetup').classList.add('hidden');
    document.getElementById('hangmanPlay').classList.remove('hidden');
    document.getElementById('hangmanOver').classList.add('hidden');
    
    createAlphabetGrid();
    updateDisplay();
}

function createAlphabetGrid() {
    const grid = document.getElementById('alphabetGrid');
    grid.innerHTML = '';
    
    for (let i = 65; i <= 90; i++) {
        const letter = String.fromCharCode(i);
        const button = document.createElement('button');
        button.className = 'letter-btn';
        button.textContent = letter;
        button.onclick = () => guessLetter(letter);
        grid.appendChild(button);
    }
}

function guessLetter(letter) {
    if (!hangmanGame.gameActive || hangmanGame.guessedLetters.includes(letter)) {
        return;
    }
    
    hangmanGame.guessedLetters.push(letter);
    
    // Disable the button
    const buttons = document.querySelectorAll('.letter-btn');
    buttons.forEach(btn => {
        if (btn.textContent === letter) {
            btn.disabled = true;
            btn.classList.add(hangmanGame.word.includes(letter) ? 'correct' : 'wrong');
        }
    });
    
    if (!hangmanGame.word.includes(letter)) {
        hangmanGame.wrongGuesses++;
    }
    
    updateDisplay();
    checkGameEnd();
}

function updateDisplay() {
    // Update word display
    const wordDisplay = document.getElementById('wordDisplay');
    wordDisplay.innerHTML = '';
    
    for (let letter of hangmanGame.word) {
        const span = document.createElement('span');
        span.className = 'word-letter';
        span.textContent = hangmanGame.guessedLetters.includes(letter) ? letter : '_';
        wordDisplay.appendChild(span);
    }
    
    // Update category
    document.getElementById('wordCategory').textContent = hangmanGame.category;
    
    // Update lives
    document.getElementById('livesCount').textContent = 6 - hangmanGame.wrongGuesses;
    
    // Update wrong letters
    const wrongLetters = hangmanGame.guessedLetters.filter(letter => !hangmanGame.word.includes(letter));
    document.getElementById('wrongLetters').textContent = wrongLetters.join(', ') || 'None';
    
    // Update hangman drawing
    document.getElementById('hangmanDrawing').textContent = hangmanDrawings[hangmanGame.wrongGuesses] || '';
}

function checkGameEnd() {
    const wordComplete = hangmanGame.word.split('').every(letter => hangmanGame.guessedLetters.includes(letter));
    
    if (wordComplete) {
        endGame('ðŸŽ‰ Congratulations! You guessed the word!', true);
    } else if (hangmanGame.wrongGuesses >= 6) {
        endGame('ðŸ’€ Game Over! The hangman is complete!', false);
    }
}

function endGame(message, won) {
    hangmanGame.gameActive = false;
    document.getElementById('hangmanMessage').textContent = message;
    
    setTimeout(() => {
        document.getElementById('hangmanPlay').classList.add('hidden');
        document.getElementById('hangmanOver').classList.remove('hidden');
        document.getElementById('hangmanResult').textContent = message;
        document.getElementById('finalWord').textContent = hangmanGame.word;
    }, 2000);
}

function resetHangman() {
    document.getElementById('hangmanSetup').classList.remove('hidden');
    document.getElementById('hangmanPlay').classList.add('hidden');
    document.getElementById('hangmanOver').classList.add('hidden');
    document.getElementById('hangmanMessage').textContent = '';
}
</script>

<style>
.hangman-display {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
    background-color: var(--bg-secondary);
    border-radius: var(--radius-lg);
    padding: 2rem;
}

.hangman-art {
    text-align: center;
}

#hangmanDrawing {
    font-family: 'Courier New', monospace;
    font-size: 1.125rem;
    color: var(--text-primary);
    margin: 0;
    min-height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.word-display {
    text-align: center;
}

.word-letters {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.word-letter {
    display: inline-block;
    width: 2rem;
    height: 2rem;
    border-bottom: 3px solid var(--primary-color);
    text-align: center;
    font-size: 1.5rem;
    font-weight: bold;
    line-height: 2rem;
    color: var(--text-primary);
}

.word-hint {
    color: var(--text-secondary);
    font-style: italic;
}

.game-info {
    display: flex;
    justify-content: space-between;
    margin-bottom: 1.5rem;
    padding: 1rem;
    background-color: var(--bg-secondary);
    border-radius: var(--radius-md);
}

.lives-left {
    font-weight: 600;
    color: var(--primary-color);
}

.wrong-letters {
    color: var(--danger-color);
}

.alphabet-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
}

.letter-btn {
    padding: 0.75rem;
    border: 2px solid var(--border-color);
    border-radius: var(--radius-md);
    background-color: var(--bg-primary);
    color: var(--text-primary);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.letter-btn:hover:not(:disabled) {
    background-color: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.letter-btn:disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

.letter-btn.correct {
    background-color: var(--success-color);
    border-color: var(--success-color);
    color: white;
}

.letter-btn.wrong {
    background-color: var(--danger-color);
    border-color: var(--danger-color);
    color: white;
}

.game-message {
    text-align: center;
    font-size: 1.125rem;
    font-weight: 600;
    min-height: 2rem;
    margin-bottom: 1rem;
    color: var(--primary-color);
}

.final-word {
    margin: 1rem 0;
    font-size: 1.125rem;
}

@media (max-width: 768px) {
    .hangman-display {
        grid-template-columns: 1fr;
    }
    
    .game-info {
        flex-direction: column;
        gap: 0.5rem;
        text-align: center;
    }
    
    .alphabet-grid {
        grid-template-columns: repeat(6, 1fr);
    }
}
</style>
